{{ define "main" }}
<!-- Main Content Area -->
<main class="max-w-7xl mx-auto py-12 sm:py-20 container-padding">

    <!-- 1. Hero Section -->
    <section id="about" class="pb-16 text-center sm:text-left relative">
        <div
            class="absolute -top-10 -left-10 text-primary opacity-30 font-mono text-[10px] select-none uppercase tracking-[0.5em]">
            SYSTEM_STATUS: ONLINE<br>
            CORE_TEMP: OPTIMAL<br>
            UPLINK: ACTIVE
        </div><br>
        <p class="text-sm font-mono text-accent mb-4 uppercase tracking-widest flex items-center gap-2">
            <span class="w-2 h-2 bg-accent rounded-full animate-pulse"></span>
            INITIATING: MickTheLinuxGeek
        </p>
        <h2 class="text-5xl sm:text-8xl font-black leading-[0.9] mb-8">
            <span class="text-white block hover:text-primary transition-colors cursor-default">BUILD.</span>
            <span class="text-white block hover:text-accent transition-colors cursor-default">AUTOMATE.</span>
            <span class="text-primary block glow-text">HOST.</span>
        </h2>
        <p class="text-lg font-mono max-w-2xl text-gray-400 leading-relaxed border-l-2 border-border pl-6">
            Exploring the intersection of code and infrastructure. Driven by **open source**, efficient **automation**,
            and mastering the Linux ecosystem within a dedicated **home lab**.
        </p>
        <div class="mt-12 flex flex-wrap gap-4">
            <a href="#focus"
                class="group relative px-8 py-4 bg-primary text-black font-bold uppercase tracking-tighter hover:bg-white transition-all duration-300">
                <span class="relative z-10">Access Focus Areas //</span>
                <span
                    class="absolute inset-0 bg-white translate-x-1 translate-y-1 -z-10 group-hover:translate-x-0 group-hover:translate-y-0 transition-transform"></span>
            </a>
            <a href="#projects"
                class="px-8 py-4 border border-border text-white font-bold uppercase tracking-tighter hover:border-accent hover:text-accent transition-all">
                Project Archive_
            </a>
        </div>
    </section>

    <!-- 2. Core Focus Areas Section -->
    <section id="focus" class="pt-24 pb-16">
        <div class="flex items-end justify-between mb-8">
            <div>
                <h3 class="text-2xl font-bold text-white mb-2">/usr/bin/focus</h3>
                <div class="w-24 h-1 bg-primary"></div>
            </div>
            <span class="text-[10px] font-mono text-gray-500 uppercase">3 NODES DETECTED</span>
        </div>

        <div class="grid md:grid-cols-3 gap-6">
            <!-- Card 1: Open Source -->
            <div class="lab-card">
                <div class="text-primary text-xs font-mono mb-4">[ 01 ]</div>
                <h4 class="text-xl font-bold mb-3 text-white">OPEN SOURCE</h4>
                <p class="text-sm text-gray-400 font-mono leading-relaxed">
                    Contributing to the ecosystem. I rely on, test, and occasionally patch the infrastructure tools I
                    use daily.
                </p>
            </div>
            <!-- Card 2: Automation & Scripting -->
            <div class="lab-card">
                <div class="text-accent text-xs font-mono mb-4">[ 02 ]</div>
                <h4 class="text-xl font-bold mb-3 text-white">AUTOMATION</h4>
                <p class="text-sm text-gray-400 font-mono leading-relaxed">
                    Eliminating manual toil. Using Python, Ansible, and Terraform to define environments as code.
                </p>
            </div>
            <!-- Card 3: Home Lab & Infrastructure -->
            <div class="lab-card">
                <div class="text-warning text-xs font-mono mb-4">[ 03 ]</div>
                <h4 class="text-xl font-bold mb-3 text-white">HOME LAB</h4>
                <p class="text-sm text-gray-400 font-mono leading-relaxed">
                    Personal infrastructure. Running K8s, Proxmox, and self-hosted services for data ownership.
                </p>
            </div>
        </div>
    </section>

    <!-- 3. Projects Showcase -->
    <section id="projects" class="pt-24 pb-16">
        <div class="flex items-end justify-between mb-8">
            <div>
                <h3 class="text-2xl font-bold text-white mb-2">/var/log/projects</h3>
                <div class="w-24 h-1 bg-accent"></div>
            </div>
            <span class="text-[10px] font-mono text-gray-500 uppercase">SYSTEM DEPLOYMENTS</span>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            {{ $projectPages := where .Site.RegularPages "Section" "projects" }}
            {{ $recentProjects := first 2 (sort $projectPages "Date" "desc") }}

            {{ range $i, $project := $recentProjects }}
            <div class="lab-card group">
                <h4 class="text-2xl font-bold mb-2 text-white group-hover:text-primary">
                    {{ .Title }}
                </h4>

                {{ with .Params.tech }}
                <div class="flex flex-wrap gap-2 mb-4">
                    {{ range . }}
                    <span class="tech-spec">{{ . }}</span>
                    {{ end }}
                </div>
                {{ end }}

                <div class="text-sm text-gray-400 font-mono mb-6">
                    {{ .Content }}
                </div>

                {{ with .Params.repo_url }}
                <a href="{{ . }}"
                    class="inline-flex items-center text-xs font-mono text-accent hover:text-white uppercase tracking-tighter">
                    <span class="mr-2">&gt;</span> {{ $project.Params.repo_text | default "Open Repository" }}
                </a>
                {{ end }}
            </div>
            {{ else }}
            <p class="text-gray-500 font-mono text-sm italic col-span-2">LOG_ERROR: NO PROJECTS FOUND</p>
            {{ end }}
        </div>
    </section>

    <!-- 3.5. Blog Posts Section -->
    <section id="blog" class="pt-24 pb-16">
        <div class="flex items-end justify-between mb-8">
            <div>
                <h3 class="text-2xl font-bold text-white mb-2">/home/notes</h3>
                <div class="w-24 h-1 bg-warning"></div>
            </div>
            <span class="text-[10px] font-mono text-gray-500 uppercase">LAB_DATA_FEED</span>
        </div>

        {{ $blogPages := where .Site.RegularPages "Section" "blog" }}
        {{ $recentPosts := first 3 (sort $blogPages "Date" "desc") }}

        <div class="grid md:grid-cols-3 gap-6">
            {{ range $recentPosts }}
            <a href="{{ .RelPermalink }}"
                class="block p-6 bg-transparent border border-border relative overflow-hidden group hover:border-warning">
                <div
                    class="absolute top-0 left-0 w-full h-1 bg-warning scale-x-0 group-hover:scale-x-100 transition-transform origin-left">
                </div>

                <p class="text-[10px] font-mono text-warning mb-4 uppercase tracking-[0.2em]">
                    {{ .Date.Format "2006.01.02" }} // {{ .ReadingTime }} MIN_READ
                </p>

                <h4 class="text-lg font-bold mb-4 text-white group-hover:text-warning transition-colors">
                    {{ .Title }}
                </h4>

                <p class="text-xs text-gray-500 font-mono line-clamp-2 mb-6 uppercase">
                    {{ .Summary | truncate 150 }}
                </p>

                <span class="text-[10px] font-mono text-gray-400 group-hover:text-white uppercase tracking-widest">
                    [ READ_FULL_REPORT ]
                </span>
            </a>
            {{ else }}
            <p class="text-gray-500 font-mono text-sm italic col-span-3">LOG_ERROR: NO NOTES FOUND</p>
            {{ end }}
        </div>

        <div class="mt-12 text-center">
            {{ with .Site.GetPage "section" "blog" }}
            <a href="{{ .RelPermalink }}"
                class="inline-block px-6 py-3 border border-warning text-warning text-xs font-mono uppercase tracking-[0.3em] hover:bg-warning hover:text-black transition-all">
                Access All Documentation
            </a>
            {{ end }}
        </div>
    </section>

    <!-- 4. Tech Stack / Tooling Section -->
    <section id="tech" class="pt-24 pb-16">
        <div class="flex items-end justify-between mb-8">
            <div>
                <h3 class="text-2xl font-bold text-white mb-2">/bin/env</h3>
                <div class="w-24 h-1 bg-white"></div>
            </div>
            <span class="text-[10px] font-mono text-gray-500 uppercase">LOADED_MODULES</span>
        </div>

        <div class="flex flex-wrap gap-2">
            <span class="tech-spec border-primary text-primary">Linux (Fedora KDE)</span>
            <span class="tech-spec">Docker & Podman</span>
            <span class="tech-spec border-accent text-accent">Kubernetes / K3s</span>
            <span class="tech-spec">Ansible</span>
            <span class="tech-spec border-primary text-primary">Python & Bash</span>
            <span class="tech-spec">Terraform / IaC</span>
            <span class="tech-spec border-accent text-accent">Prometheus & Grafana</span>
            <span class="tech-spec">Git / GitHub Actions</span>
            <span class="tech-spec border-primary text-primary">Proxmox / VMware</span>
            <span class="tech-spec">Gitea</span>
            <span class="tech-spec border-accent text-accent">Openmediavault</span>
            <span class="tech-spec">Home Assistant</span>
        </div>
    </section>

    <!-- 5. Contact Section -->
    <section id="contact" class="pt-24 pb-16">
        <div class="lab-card max-w-4xl mx-auto border-accent/20">
            <h3 class="text-3xl font-bold mb-6 text-white text-center">Establish Uplink</h3>
            <p class="text-sm font-mono text-gray-400 mb-12 text-center uppercase tracking-widest leading-relaxed">
                Discussion required? Automations failing? Trade expertise below.
            </p>

            <div class="flex justify-center flex-wrap gap-12">
                {{ with .Site.Params.social.github }}
                <a href="{{ . }}"
                    class="text-gray-500 hover:text-primary transition-colors flex flex-col items-center gap-2 group"
                    aria-label="GitHub Profile">
                    <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd"
                            d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.5.499.09.682-.217.682-.483 0-.237-.009-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.026 2.747-1.026.546 1.379.202 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.577.688.482A10.001 10.001 0 0022 12.017C22 6.484 17.522 2 12 2z"
                            clip-rule="evenodd" />
                    </svg>
                    <span
                        class="text-[10px] font-mono tracking-[0.3em] uppercase opacity-0 group-hover:opacity-100 transition-opacity">GitHub</span>
                </a>
                {{ end }}

                {{ with .Site.Params.social.mastodon }}
                <a href="{{ . }}"
                    class="text-gray-500 hover:text-accent transition-colors flex flex-col items-center gap-2 group"
                    aria-label="Mastodon Profile">
                    <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M23.193 7.88c0-5.207-3.411-6.733-3.411-6.733C18.062.357 15.108.025 12.041 0h-.076c-3.068.025-6.02.357-7.74 1.147 0 0-3.411 1.526-3.411 6.732 0 1.192-.023 2.618.015 4.13.124 5.092.934 10.109 5.641 11.355 2.17.574 4.034.695 5.535.612 2.722-.15 4.25-.972 4.25-.972l-.09-1.975s-1.945.613-4.13.539c-2.165-.074-4.449-.233-4.799-2.891a5.499 5.499 0 0 1-.048-.745s2.125.52 4.817.643c1.646.075 3.19-.097 4.758-.283 3.007-.359 5.625-2.212 5.954-3.905.517-2.665.475-6.507.475-6.507zm-4.024 6.709h-2.497V8.469c0-1.29-.543-1.944-1.628-1.944-1.2 0-1.801.776-1.801 2.312v3.349h-2.483v-3.35c0-1.536-.601-2.312-1.802-2.312-1.085 0-1.628.655-1.628 1.944v6.119H4.833V8.284c0-1.289.328-2.313.987-3.07.679-.757 1.568-1.146 2.674-1.146 1.278 0 2.246.491 2.886 1.474L12 6.585l.622-1.043c.64-.983 1.608-1.474 2.886-1.474 1.106 0 1.995.389 2.674 1.146.659.757.987 1.781.987 3.07v6.305z" />
                    </svg>
                    <span
                        class="text-[10px] font-mono tracking-[0.3em] uppercase opacity-0 group-hover:opacity-100 transition-opacity">Mastodon</span>
                </a>
                {{ end }}

                {{ with .Site.Params.social.bluesky }}
                <a href="{{ . }}"
                    class="text-gray-500 hover:text-warning transition-colors flex flex-col items-center gap-2 group"
                    aria-label="Bluesky Profile">
                    <!-- Inline SVG for Bluesky Icon -->
                    <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path
                            d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8z" />
                    </svg>
                    <span
                        class="text-[10px] font-mono tracking-[0.3em] uppercase opacity-0 group-hover:opacity-100 transition-opacity">Bluesky</span>
                </a>
                {{ end }}

                {{ with .Site.Params.social.email }}
                <a href="mailto:{{ . }}"
                    class="text-gray-500 hover:text-primary transition-colors flex flex-col items-center gap-2 group"
                    aria-label="Email Address">
                    <span class="text-4xl text-inherit group-hover:animate-pulse">âœ‰</span>
                    <span
                        class="text-[10px] font-mono tracking-[0.3em] uppercase opacity-0 group-hover:opacity-100 transition-opacity">Email</span>
                </a>
                {{ end }}
            </div>

            <div class="mt-16 text-center border-t border-border pt-8 opacity-50">
                <span class="text-[10px] font-mono uppercase tracking-[0.5em] text-gray-500">
                    Transmission End // MickTheLinuxGeek
                </span>
            </div>
        </div>
    </section>

</main>
{{ end }}